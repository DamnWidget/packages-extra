# Maintainer: Bernhard Landauer <oberon@manjaro.org>
# Contributor: Alexandru Ianu <alexandru . ianu @ gmail . com>

pkgname=vertex-maia-icon-theme
pkgver=20160416
pkgrel=1
_pkgbase=menda-icon-themes
_commit='19d251bce23ba64f30333dcddffb719bc813c504'
arch=('any')
url="https://github.com/manjaro/menda-icon-themes"
license=('GPL')
depends=('hicolor-icon-theme' 'librsvg')
options=('!emptydirs' '!strip')
source=("$_pkgbase-$pkgver-$pkgrel.tar.gz::$url/archive/$_commit.tar.gz")
md5sums=('e5ddd179c6b46af66b305c54fb4c3dc0')

package() {
  pkgdesc="Icons matching Vertex Maia themes, based on Menda Circle"
  optdepends=('vertex-maia-themes: Official Manjaro Gtk2, Gtk3, Metacity, Xfwm, Openbox, Cinnamon and GNOME Shell themes')

  install -dm755 "${pkgdir}/usr/share/icons"

  cd "$pkgdir/usr/share/icons"
  cp -r "$srcdir/$_pkgbase-$_commit/Menda-Circle" Vertex-Maia
  find . -type d -exec chmod 755 '{}' \;
  find . -type f -exec chmod 644 '{}' \;

  msg "Adjusting icon colors..."
  find . -name "*.svg" -exec sed -i "s/27ae60/16a085/g" '{}' \;
  find . -name "index.*" -exec sed -i "s/Menda-Circle/Vertex-Maia/g;s/ Circle Edition//g" '{}' \;
}
