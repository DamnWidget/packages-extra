# Maintainer: Philip MÃ¼ller <philm[at]manjaro[dog]org>
# Contributor: artoo <artoo@manjaro.org>
# Contributor: anex <assassin.anex[@]gmail.com>

pkgbase=manjaro-livecd
pkgname=('manjaro-livecd-base'
	'manjaro-livecd-openrc'
         'manjaro-livecd-systemd'
         'manjaro-livecd-cli-installer')
pkgver=20160225
pkgrel=1
pkgdesc='Manjaro Linux livecd'
arch=('any')
url="https://github.com/manjaro/manjaro-tools-livecd"
license=('GPL')
makedepends=('git')
source=("git+$url.git")
sha256sums=('SKIP')

_inst_dir(){
	install -dm 755 $pkgdir
	cp -a $srcdir/manjaro-tools-livecd/livecd-$1/* $pkgdir
}

pkgver() {
	date +%Y%m%d
}

package_manjaro-livecd-base() {
	pkgdesc='Manjaro Linux livecd base'
	depends=('manjaro-tools-base')

	_inst_dir 'base'
}

package_manjaro-livecd-cli-installer() {
	pkgdesc='Manjaro Linux cli-installer'
	depends=('dialog' 'dmidecode' 'gptfdisk' 'parted' 'pv'
		'tcpdump' 'wget' 'manjaro-livecd-base')

	_inst_dir 'cli-installer'
}

package_manjaro-livecd-openrc() {
	pkgdesc='Manjaro Linux livecd openrc init scripts'
	depends=('openrc' 'manjaro-livecd-base')

	_inst_dir 'init-openrc'
}

package_manjaro-livecd-systemd() {
	pkgdesc='Manjaro Linux livecd systemd units'
	depends=('systemd' 'manjaro-livecd-base')

	_inst_dir 'init-systemd'
}
